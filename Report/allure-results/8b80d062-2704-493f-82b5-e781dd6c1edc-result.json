{"name": "test_applyInternationalTravel[测试差旅申请单（国际）提交主流程]", "status": "failed", "statusDetails": {"message": "AssertionError: assert 1 == 0\n  +1\n  -0", "trace": "self = <Testcases.boeApplyPageTest.test_applyInternationalTravelBoe.TestApplyInternationalTravelBoe object at 0x000002584E650F60>\napplyInternationalTravelBoe_testdata = {'applyAmount': '100.10', 'beginDateStr': '2021-1-1', 'boeAbstract': '测试差旅申请单（国际）', 'casename': '测试差旅申请单（国际）提交主流程', ...}\n\n    @allure.story(\"差旅申请单（国际）费用报销界面单据提交\")\n    @allure.step(\"差旅申请单（国际）费用报销界面单据提交步骤\")\n    @allure.severity(\"blocker\")\n    @pytest.mark.dependency(name='submit')\n    def test_applyInternationalTravel(self, applyInternationalTravelBoe_testdata):\n        try:\n            logger.info(\" ----- 单据流程开始 ----- \")\n            with allure.step(\"打开事项申请单据选择页面\"):\n                self.applyInternationalTravelBoePage.open_boeApply()\n            with allure.step(\"打开的单据类型为：{} ,选择的单据业务类型为: {}\".format('差旅申请单（国际）', applyInternationalTravelBoe_testdata['operationType'])):\n                try:\n                    self.applyInternationalTravelBoePage.open_boe('差旅申请单（国际）', applyInternationalTravelBoe_testdata['operationType'])\n                except:\n                    sleep(1)\n                    logger.error(\" Don't find Boe, Try again\")\n                    self.applyInternationalTravelBoePage.open_boe('差旅申请单（国际）', applyInternationalTravelBoe_testdata['operationType'])\n    \n            global boeNum\n            boeNum = self.applyInternationalTravelBoePage.getBoeNum()\n    \n            with allure.step(\"输入业务类型\"):\n                self.applyInternationalTravelBoePage.input_operationType(applyInternationalTravelBoe_testdata['operationType'])\n            with allure.step(\"输入备注\"):\n                self.applyInternationalTravelBoePage.input_boeAbstract(applyInternationalTravelBoe_testdata['boeAbstract'])\n            with allure.step(\"输入金额\"):\n                self.applyInternationalTravelBoePage.input_applyAmount(applyInternationalTravelBoe_testdata['applyAmount'])\n    \n            with allure.step(\"输入开始时间：{}\".format(applyInternationalTravelBoe_testdata['beginDateStr'])):\n                self.applyInternationalTravelBoePage.input_beginDateStr(applyInternationalTravelBoe_testdata['beginDateStr'])\n            with allure.step(\"输入结束时间：{}\".format(applyInternationalTravelBoe_testdata['endDateStr'])):\n                self.applyInternationalTravelBoePage.input_endDateStr(applyInternationalTravelBoe_testdata['endDateStr'])\n            with allure.step(\"输入出发城市\"):\n                self.applyInternationalTravelBoePage.input_fromCity(applyInternationalTravelBoe_testdata['fromCity'])\n            with allure.step(\"输入到达城市\"):\n                self.applyInternationalTravelBoePage.input_toCity(applyInternationalTravelBoe_testdata['toCity'])\n            with allure.step(\"输入交通工具\"):\n                self.applyInternationalTravelBoePage.select_transportation(applyInternationalTravelBoe_testdata['transportation'])\n            with allure.step(\"输入出差任务\"):\n                self.applyInternationalTravelBoePage.select_travelTask(applyInternationalTravelBoe_testdata['travelTask'])\n            with allure.step(\"输入项目\"):\n                self.applyInternationalTravelBoePage.input_projectId(applyInternationalTravelBoe_testdata['projectName'])\n    \n            with allure.step(\"点击单据提交\"):\n                self.applyInternationalTravelBoePage.click_boeSubmitButton()\n            with allure.step(\"点击单据关闭按钮\"):\n>               self.applyInternationalTravelBoePage.click_close()\n\nTestcases\\boeApplyPageTest\\test_applyInternationalTravelBoe.py:75: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <PageClass.boeApplyPageClass.applyInternationalTravelBoePage.ApplyInternationalTravelBoePage object at 0x000002584E689E48>\n\n    def click_close(self):\n        WebDriverWait(self.driver, 8).until(\n>           EC.visibility_of_element_located(self._close))\n\nPageClass\\common\\boeCommon.py:63: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"d0dc05e3b1c04505f2b95dfc37413111\")>, method = <selenium.webdriver.support.expected_conditions.visibility_of_element_located object at 0x000002584E689748>, message = ''\n\n    def until(self, method, message=''):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value is not False.\"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.time() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, 'screen', None)\n                stacktrace = getattr(exc, 'stacktrace', None)\n            time.sleep(self._poll)\n            if time.time() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message:\n\nC:\\Users\\zxxy\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:80: TimeoutException\n\nDuring handling of the above exception, another exception occurred:\n\nself = <Testcases.boeApplyPageTest.test_applyInternationalTravelBoe.TestApplyInternationalTravelBoe object at 0x000002584E650F60>\napplyInternationalTravelBoe_testdata = {'applyAmount': '100.10', 'beginDateStr': '2021-1-1', 'boeAbstract': '测试差旅申请单（国际）', 'casename': '测试差旅申请单（国际）提交主流程', ...}\n\n    @allure.story(\"差旅申请单（国际）费用报销界面单据提交\")\n    @allure.step(\"差旅申请单（国际）费用报销界面单据提交步骤\")\n    @allure.severity(\"blocker\")\n    @pytest.mark.dependency(name='submit')\n    def test_applyInternationalTravel(self, applyInternationalTravelBoe_testdata):\n        try:\n            logger.info(\" ----- 单据流程开始 ----- \")\n            with allure.step(\"打开事项申请单据选择页面\"):\n                self.applyInternationalTravelBoePage.open_boeApply()\n            with allure.step(\"打开的单据类型为：{} ,选择的单据业务类型为: {}\".format('差旅申请单（国际）', applyInternationalTravelBoe_testdata['operationType'])):\n                try:\n                    self.applyInternationalTravelBoePage.open_boe('差旅申请单（国际）', applyInternationalTravelBoe_testdata['operationType'])\n                except:\n                    sleep(1)\n                    logger.error(\" Don't find Boe, Try again\")\n                    self.applyInternationalTravelBoePage.open_boe('差旅申请单（国际）', applyInternationalTravelBoe_testdata['operationType'])\n    \n            global boeNum\n            boeNum = self.applyInternationalTravelBoePage.getBoeNum()\n    \n            with allure.step(\"输入业务类型\"):\n                self.applyInternationalTravelBoePage.input_operationType(applyInternationalTravelBoe_testdata['operationType'])\n            with allure.step(\"输入备注\"):\n                self.applyInternationalTravelBoePage.input_boeAbstract(applyInternationalTravelBoe_testdata['boeAbstract'])\n            with allure.step(\"输入金额\"):\n                self.applyInternationalTravelBoePage.input_applyAmount(applyInternationalTravelBoe_testdata['applyAmount'])\n    \n            with allure.step(\"输入开始时间：{}\".format(applyInternationalTravelBoe_testdata['beginDateStr'])):\n                self.applyInternationalTravelBoePage.input_beginDateStr(applyInternationalTravelBoe_testdata['beginDateStr'])\n            with allure.step(\"输入结束时间：{}\".format(applyInternationalTravelBoe_testdata['endDateStr'])):\n                self.applyInternationalTravelBoePage.input_endDateStr(applyInternationalTravelBoe_testdata['endDateStr'])\n            with allure.step(\"输入出发城市\"):\n                self.applyInternationalTravelBoePage.input_fromCity(applyInternationalTravelBoe_testdata['fromCity'])\n            with allure.step(\"输入到达城市\"):\n                self.applyInternationalTravelBoePage.input_toCity(applyInternationalTravelBoe_testdata['toCity'])\n            with allure.step(\"输入交通工具\"):\n                self.applyInternationalTravelBoePage.select_transportation(applyInternationalTravelBoe_testdata['transportation'])\n            with allure.step(\"输入出差任务\"):\n                self.applyInternationalTravelBoePage.select_travelTask(applyInternationalTravelBoe_testdata['travelTask'])\n            with allure.step(\"输入项目\"):\n                self.applyInternationalTravelBoePage.input_projectId(applyInternationalTravelBoe_testdata['projectName'])\n    \n            with allure.step(\"点击单据提交\"):\n                self.applyInternationalTravelBoePage.click_boeSubmitButton()\n            with allure.step(\"点击单据关闭按钮\"):\n                self.applyInternationalTravelBoePage.click_close()\n    \n            with allure.step(\"进行单据生成校验\"):\n                self.applyInternationalTravelBoePage.click_myBoeList()\n                self.applyInternationalTravelBoePage.click_moreButton()\n                self.applyInternationalTravelBoePage.input_boeNo(boeNum)\n                self.applyInternationalTravelBoePage.click_boeNoSelectButton()\n                status = self.applyInternationalTravelBoePage.selectResultIsOrNot(boeNum)\n    \n            logger.info(\" ----- 单据提交流程结束 ----- \")\n            assert status == True\n    \n        except Exception as e:\n            logger.error(\"出现异常，异常信息为：{}\".format(type(e)))\n            code = 'wrong'\n            timeNow = getNowTime()\n            self.applyInternationalTravelBoePage.screenshot(code, timeNow)\n            allure.attach.file(getPicturePath(code, timeNow), name=timeNow + code + \"screenshot\",\n                               attachment_type=allure.attachment_type.PNG)\n            self.applyInternationalTravelBoePage.driver.quit()\n>           assert 1 == 0\nE           assert 1 == 0\nE             +1\nE             -0\n\nTestcases\\boeApplyPageTest\\test_applyInternationalTravelBoe.py:95: AssertionError"}, "steps": [{"name": "差旅申请单（国际）费用报销界面单据提交步骤", "status": "failed", "statusDetails": {"message": "AssertionError: assert 1 == 0\n  +1\n  -0\n", "trace": "  File \"C:\\Users\\zxxy\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\allure_commons\\_allure.py\", line 157, in impl\n    return func(*a, **kw)\n  File \"D:\\se\\Se_Project\\Testcases\\boeApplyPageTest\\test_applyInternationalTravelBoe.py\", line 95, in test_applyInternationalTravel\n    assert 1 == 0\n"}, "steps": [{"name": "打开事项申请单据选择页面", "status": "passed", "start": 1615028358283, "stop": 1615028358380}, {"name": "打开的单据类型为：差旅申请单（国际） ,选择的单据业务类型为: UI通用", "status": "passed", "start": 1615028358381, "stop": 1615028358852}, {"name": "输入业务类型", "status": "passed", "start": 1615028361864, "stop": 1615028363336}, {"name": "输入备注", "status": "passed", "start": 1615028363336, "stop": 1615028363652}, {"name": "输入金额", "status": "passed", "start": 1615028363652, "stop": 1615028364388}, {"name": "输入开始时间：2021-1-1", "status": "passed", "start": 1615028364388, "stop": 1615028365936}, {"name": "输入结束时间：2021-1-20", "status": "passed", "start": 1615028365936, "stop": 1615028367766}, {"name": "输入出发城市", "status": "passed", "start": 1615028367766, "stop": 1615028368928}, {"name": "输入到达城市", "status": "passed", "start": 1615028368928, "stop": 1615028370133}, {"name": "输入交通工具", "status": "passed", "start": 1615028370133, "stop": 1615028372054}, {"name": "输入出差任务", "status": "passed", "start": 1615028372054, "stop": 1615028373532}, {"name": "输入项目", "status": "passed", "start": 1615028373532, "stop": 1615028374700}, {"name": "点击单据提交", "status": "passed", "start": 1615028374700, "stop": 1615028374845}, {"name": "点击单据关闭按钮", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.TimeoutException: Message: \n\n", "trace": "  File \"D:\\se\\Se_Project\\Testcases\\boeApplyPageTest\\test_applyInternationalTravelBoe.py\", line 75, in test_applyInternationalTravel\n    self.applyInternationalTravelBoePage.click_close()\n  File \"D:\\se\\Se_Project\\PageClass\\common\\boeCommon.py\", line 63, in click_close\n    EC.visibility_of_element_located(self._close))\n  File \"C:\\Users\\zxxy\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py\", line 80, in until\n    raise TimeoutException(message, screen, stacktrace)\n"}, "start": 1615028374845, "stop": 1615028384138}], "attachments": [{"name": "2021-03-06 18-59-44wrongscreenshot", "source": "7b327e7d-9170-4115-8e97-e390299b9ed7-attachment.png", "type": "image/png"}], "parameters": [{"name": "applyInternationalTravelBoe_testdata", "value": "{'operationType': 'UI通用', 'boeAbstract': '测试差旅申请单（国际）', 'applyAmount': '100.10', 'beginDateStr': '2021-1-1', 'endDateStr': '2021-1-20', 'fromCity': '长沙', 'toCity': '北京', 'transportation': '动卧', 'travelTask': '会议出差', 'projectName': 'UI项目', 'casename': '测试差旅申请单（国际）提交主流程'}"}], "start": 1615028358283, "stop": 1615028386621}], "attachments": [{"name": "log", "source": "ac1e41a4-26e1-4118-a525-9e4b48f53277-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "applyInternationalTravelBoe_testdata", "value": "{'operationType': 'UI通用', 'boeAbstract': '测试差旅申请单（国际）', 'applyAmount': '100.10', 'beginDateStr': '2021-1-1', 'endDateStr': '2021-1-20', 'fromCity': '长沙', 'toCity': '北京', 'transportation': '动卧', 'travelTask': '会议出差', 'projectName': 'UI项目', 'casename': '测试差旅申请单（国际）提交主流程'}"}], "start": 1615028358283, "stop": 1615028386623, "uuid": "f73ab002-4e64-4904-bdaf-96e26b170044", "historyId": "5b7f600b6e936f9e6e812f268edb2ee2", "testCaseId": "6473cf3436eb065a0e790d3efdb1ba81", "fullName": "Testcases.boeApplyPageTest.test_applyInternationalTravelBoe.TestApplyInternationalTravelBoe#test_applyInternationalTravel", "labels": [{"name": "story", "value": "差旅申请单（国际）费用报销界面单据提交"}, {"name": "feature", "value": "差旅申请单（国际）流程"}, {"name": "severity", "value": "blocker"}, {"name": "tag", "value": "dependency(name='submit')"}, {"name": "parentSuite", "value": "Testcases.boeApplyPageTest"}, {"name": "suite", "value": "test_applyInternationalTravelBoe"}, {"name": "subSuite", "value": "TestApplyInternationalTravelBoe"}, {"name": "host", "value": "LAPTOP-3T6FO04H"}, {"name": "thread", "value": "46452-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Testcases.boeApplyPageTest.test_applyInternationalTravelBoe"}]}